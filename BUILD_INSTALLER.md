# Инструкция по созданию установщика ChatList

## Предварительные требования

1. **Python 3.11+** с установленными зависимостями из `requirements.txt`
2. **PyInstaller** для создания исполняемого файла
3. **Inno Setup** (версия 6.0 или выше) - [скачать](https://jrsoftware.org/isdl.php)

## Шаги для создания установщика

### 1. Установите зависимости

```bash
pip install -r requirements.txt
pip install pyinstaller
```

### 2. Соберите исполняемый файл

Сначала убедитесь, что версия в `version.py` установлена правильно (например, `1.0.0`).

Затем соберите исполняемый файл с помощью PyInstaller:

```bash
python -m PyInstaller ChatListApp.spec
```

Исполняемый файл будет создан в папке `dist/` с именем `ChatListApp-1.0.0.exe` (где `1.0.0` - версия из `version.py`).

### 3. Сгенерируйте скрипт Inno Setup

Запустите скрипт для генерации `.iss` файла из `version.py`:

```bash
python create_installer.py
```

Это создаст файл `ChatList.iss` с правильной версией.

### 4. Создайте установщик

1. Откройте **Inno Setup Compiler**
2. Откройте файл `ChatList.iss`
3. Нажмите **Build → Compile** (или клавишу **F9**)
4. Установщик будет создан в папке `installer/` с именем `ChatList-Setup-1.0.0.exe`

## Что включает установщик

- ✅ Установка приложения в `Program Files\ChatList`
- ✅ Создание ярлыка в меню Пуск
- ✅ Опциональное создание ярлыка на рабочем столе
- ✅ Иконка приложения
- ✅ Автоматическое создание деинсталлятора
- ✅ Поддержка русского и английского языков
- ✅ Секция Uninstall для полного удаления приложения

## Обновление версии

Для обновления версии приложения:

1. Измените `__version__` в файле `version.py`
2. Пересоберите исполняемый файл: `python -m PyInstaller ChatListApp.spec`
3. Пересоздайте скрипт установщика: `python create_installer.py`
4. Скомпилируйте установщик в Inno Setup Compiler

## Примечания

- Убедитесь, что файл `app.ico` существует в корне проекта
- Убедитесь, что исполняемый файл `ChatListApp-{version}.exe` существует в папке `dist/`
- При изменении версии все файлы автоматически обновятся благодаря использованию `version.py`

